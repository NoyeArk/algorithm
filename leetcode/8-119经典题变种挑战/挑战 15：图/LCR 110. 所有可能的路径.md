# [LCR 110. 所有可能的路径](https://leetcode.cn/problems/bP4bmD/description/)

> **日期**：2025-08-03
> **所用时间**：10min

## 1. 回溯

本题本质是**有向无环图中的所有路径枚举**，可以用**回溯（DFS）**来解决。

1. 建模
   - 每个节点编号为 0 ~ n-1，`graph[i]` 表示从节点 i 出发能到达的所有节点。
   - 题目保证无环，所以不会出现死循环。
2. 回溯搜索
   - 从节点 0 出发，递归遍历每一条可能的路径。
   - 用一个 `path` 列表记录当前路径。
   - 当遍历到终点节点 n-1 时，将当前路径加入答案。
3. 递归终止条件
    - 如果当前节点是 n-1，说明到达终点，记录路径。

复杂度分析：

- 时间复杂度：$O(n \times m)$，其中 $n$ 为节点数，$m$ 为边数
- 空间复杂度：$O(n)$，递归栈和路径存储。

**Python3**

```python
class Solution:
    def allPathsSourceTarget(self, graph: List[List[int]]) -> List[List[int]]:
        ans = []

        def dfs(i, path):
            if i == len(graph) - 1:
                ans.append(path)
                return
            for j in graph[i]:
                dfs(j, path + [j])
        dfs(0, [0])
        return ans
```