# [LCR 112. 矩阵中的最长递增路径](https://leetcode.cn/problems/fpTFWP/description/)

> **日期**：2025-08-16
> **所用时间**：5min

## 1. 记忆化搜索

用记忆化搜索，记录每个点为起点的最长递增路径长度。

代码流程：

1. 遍历矩阵中的每个点，以该点为起点，进行深度优先搜索。
2. 在搜索过程中，记录当前路径长度，并更新最大路径长度。
3. 返回最大路径长度。

复杂度分析：

- 时间复杂度：$O(nm)$，其中 $n$ 为矩阵行数，$m$ 为矩阵列数
- 空间复杂度：$O(nm)$，记忆化搜索的缓存空间。

**Python3**

```python
class Solution:
    def longestIncreasingPath(self, matrix: List[List[int]]) -> int:
        n, m = len(matrix), len(matrix[0])
        @cache
        def dfs(i, j):
            res = 0
            for dx, dy in [(1, 0), (-1, 0), (0, 1), (0, -1)]:
                x, y = i + dx, j + dy
                if x < 0 or x >= n or y < 0 or y >= m or matrix[x][y] <= matrix[i][j]:
                    continue
                res = max(res, dfs(x, y))
            return res + 1
        
        return max(dfs(i, j) for i in range(n) for j in range(m))
```