# [LCR 106. 判断二分图](https://leetcode.cn/problems/vEAB3k/description/)

> **日期**：2025-07-26
> **所用时间**：20min

## 1. DFS染色法

如果一个无向图能将所有节点分成两个集合，使得每条边的两个端点分别属于不同集合，则该图为二分图。常见的判定方法是对图进行染色：用两种颜色对所有节点染色，相邻节点颜色不同。如果能成功染色，则是二分图，否则不是。

用一个数组 `color` 记录每个节点的颜色（-1 表示未染色，0/1 表示两种颜色）。对每个未染色节点，尝试用 DFS 染色，初始颜色任选（如 0）。

对所有节点染色完成之后，判断每个节点的邻接点的颜色是否均相同：

1. 如果邻接点的颜色均相同，那么说明这些节点都可以放在同一个集合中
2. 否则，这些邻接点不能放在同一个集合中，返回 False

复杂度分析：

- 时间复杂度: $O(n+m)$，其中 $n$ 是节点数，$m$ 是边数
- 空间复杂度: $O(n)$，需要一个数组记录每个节点的颜色

**Python3**

```python
class Solution:
    def isBipartite(self, graph: List[List[int]]) -> bool:
        n = len(graph)
        color = [-1] * n

        def dfs(i, val):
            if color[i] != -1:
                return
            color[i] = val
            for j in graph[i]:
                if i != j:
                    dfs(j, 1 - color[i])

        for i in range(n):
            dfs(i, 0)
        
        for i in range(n):
            for j in graph[i]:
                if color[graph[i][0]] != color[j]:
                    return False
        return True
```