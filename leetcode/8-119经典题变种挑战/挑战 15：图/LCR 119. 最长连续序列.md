# [LCR 119. 最长连续序列](https://leetcode.cn/problems/WhsWhI/description/)

> **日期**：2025-09-05
> **所用时间**：3min

## 1. 排序

给定一个未排序的整数数组 `nums`，找出数字连续的最长序列（不要求元素在原数组中连续），并返回其长度。

本题可以先对数组进行排序，然后遍历数组，找出数字连续的最长序列。

- 时间复杂度：$O(n\log n)$
- 空间复杂度：$O(1)$

**Python3**

```python
class Solution:
    def longestConsecutive(self, nums: List[int]) -> int:
        nums.sort()
        ans = t = int(len(nums) > 0)

        for i, j in pairwise(nums):
            if i + 1 == j:
                t += 1
                ans = max(ans, t)
            elif i != j:
                t = 1
        return ans
```

## 2. 哈希表

1. **去重+查找**  
   首先将所有数字放入哈希集合 `set(nums)`，这样查找某个数字是否存在的时间复杂度为 $O(1)$。

2. **只从连续序列的起点开始扩展**  
   对于每个数字 $x$，只有当 $x-1$ 不在集合中时，$x$ 才可能是某个连续序列的起点。否则它一定会被更小的数扩展到。

3. **扩展连续序列**  
   从 $x$ 开始，不断判断 $x+1, x+2, ...$ 是否在集合中，统计连续长度 $t$，并更新最大长度 $ans$。

复杂度分析：

- 时间复杂度：$O(n)$
- 空间复杂度：$O(n)$

**Python3**

```python
class Solution:
    def longestConsecutive(self, nums: List[int]) -> int:
        s, ans = set(nums), 0
        for x in nums:
            if x - 1 not in s:
                t = 1
                ne = x + 1
                while ne in s:
                    ne += 1
                    t += 1
                ans = max(ans, t)
        return ans
```