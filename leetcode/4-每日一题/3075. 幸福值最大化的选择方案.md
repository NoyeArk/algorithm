# [3075. 幸福值最大化的选择方案](https://leetcode.cn/problems/maximize-happiness-of-selected-children/description/)

> **日期**：2025-12-25
> **所用时间**：5min
> **知识点**：贪心、排序

## 1. 贪心

本题是一个典型的贪心算法问题：我们要从 n 个孩子中选 k 个，使得幸福值之和最大。每次选一个孩子时，后面每个已选孩子的幸福值会减少 1，因此最佳策略就是每次都挑剩下幸福值最大的孩子。

具体做法如下：
1. 首先将 happiness 数组从大到小排序。
2. 然后依次选幸福值最大的 k 个孩子。对于第 i 个被选的孩子（下标为 i），其最终贡献为 happiness[i] - i，如果小于等于 0 则说明后续都不会更大，可以提前结束。
3. 最终将所有被选孩子的贡献累加即可。

复杂度分析：

- 时间复杂度：$O(n \log n)$，主要为排序时间。
- 空间复杂度：$O(n)$，主要为差值数组。

**Python3**

```python
class Solution:
    def maximumHappinessSum(self, happiness: List[int], k: int) -> int:
        happiness.sort(reverse=True)
        
        ans = 0
        for i in range(k):
            if happiness[i] - i <= 0:
                return ans
            ans += happiness[i] - i
        return ans
```