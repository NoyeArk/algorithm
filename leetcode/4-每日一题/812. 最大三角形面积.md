# [812. 最大三角形面积](https://leetcode.cn/problems/largest-triangle-area/description/)

> **日期**：2025-09-27
> **所用时间**：12min

## 1. 暴力求解，使用海伦公式计算面积

遍历所有可能的三个点的组合，计算每个三角形的面积，返回最大面积。

**算法思路：**

1. 三重循环遍历所有可能的三个点组合
2. 对于每三个点，使用海伦公式计算三角形面积：
   - 先计算三边长度 a、b、c
   - 计算半周长 p = (a + b + c) / 2
   - 验证能否构成三角形（p > max(a, b, c)）
   - 使用海伦公式：面积 = √[p(p-a)(p-b)(p-c)]
3. 记录并返回最大面积

**海伦公式推导：**
对于边长为 a、b、c 的三角形，半周长 p = (a + b + c) / 2，则面积为：
$$S = \sqrt{p(p-a)(p-b)(p-c)}$$

**复杂度分析：**
- 时间复杂度: $O(n^3)$ ，三重循环遍历所有三点组合
- 空间复杂度: $O(1)$ ，只使用常数额外空间

**Python3**

```python
class Solution:
    def largestTriangleArea(self, points: List[List[int]]) -> float:
        n = len(points)
        ans = 0
        calc_length = lambda p1, p2: sqrt((p1[0] - p2[0])**2 + (p1[1] - p2[1])**2)
        for i in range(n):
            for j in range(i + 1, n):
                for k in range(j + 1, n):
                    a = calc_length(points[i], points[j])
                    b = calc_length(points[i], points[k])
                    c = calc_length(points[k], points[j])
                    p = (a + b + c) / 2
                    if p > max(a, b, c):
                        ans = max(ans, sqrt(p*(p-a)*(p-b)*(p-c)))
        return ans
```

## 2. 暴力求解，利用叉积计算面积

遍历所有可能的三个点的组合，使用向量叉积的几何意义直接计算三角形面积。

**算法思路：**

1. 三重循环遍历所有可能的三个点组合（使用 `combinations` 简化代码）
2. 对于三个点 p1、p2、p3，将其中一个点作为原点，构造两个向量：
   - 向量1：从 p1 到 p2 的向量 (x1, y1)
   - 向量2：从 p1 到 p3 的向量 (x2, y2)
3. 使用叉积公式计算平行四边形面积，再除以2得到三角形面积：
   - 叉积：x1 × y2 - y1 × x2
   - 三角形面积 = |叉积| / 2
4. 记录并返回最大面积

**叉积几何意义：**
两个向量的叉积的绝对值等于以这两个向量为邻边的平行四边形的面积。
对于向量 $\vec{a} = (x_1, y_1)$ 和 $\vec{b} = (x_2, y_2)$：
$$|\vec{a} \times \vec{b}| = |x_1 \cdot y_2 - y_1 \cdot x_2|$$

三角形面积为平行四边形面积的一半：
$$S_{triangle} = \frac{|\vec{a} \times \vec{b}|}{2}$$

**复杂度分析：**
- 时间复杂度: $O(n^3)$ ，遍历所有三点组合
- 空间复杂度: $O(1)$ ，只使用常数额外空间

**Python3**

```python
class Solution:
    def largestTriangleArea(self, points: List[List[int]]) -> float:
        ans = 0
        for p1, p2, p3 in combinations(points, 3):
            x1, y1 = p2[0] - p1[0], p2[1] - p1[1]
            x2, y2 = p3[0] - p1[0], p3[1] - p1[1]
            ans = max(ans, abs(x1 * y2 - y1 * x2) / 2)
        return ans
```