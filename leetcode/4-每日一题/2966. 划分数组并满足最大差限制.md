# [2966. 划分数组并满足最大差限制](https://leetcode.cn/problems/divide-array-into-arrays-with-max-difference/description/)

> **日期**：2025-06-18
> **所用时间**：10min

## 1. 排序 + 贪心

## 题目分析

给定一个整数数组 `nums` 和一个整数 `k`，要求将数组划分为若干个长度为 3 的子数组，使得每个子数组中的最大元素与最小元素的差值不超过 `k`。如果无法完成划分，返回空数组。

## 解题思路

### 核心思想：排序 + 贪心

1. **排序**：首先对数组进行排序，这样可以保证相邻元素之间的差值最小
2. **贪心分组**：按照顺序每三个元素为一组，检查每组内的最大差值是否满足条件

### 算法步骤

1. 对数组 `nums` 进行升序排序
2. 遍历数组，每次取连续的三个元素作为一组
3. 对于每组，检查最大值（第3个元素）与最小值（第1个元素）的差值是否 ≤ k
4. 如果所有组都满足条件，返回分组结果；否则返回空数组

### 为什么这样做是正确的？

- **排序的必要性**：排序后，同一组内的元素差值最小，最大可能满足条件
- **贪心的正确性**：如果排序后的数组无法满足条件，那么任何其他排列都无法满足条件

### 示例分析

以 `nums = [1,3,4,8,7,9,3,5,1], k = 2` 为例：

1. 排序后：`[1,1,3,3,4,5,7,8,9]`
2. 分组：
   - 第1组：`[1,1,3]`，差值 = 3-1 = 2 ≤ k ✓
   - 第2组：`[3,4,5]`，差值 = 5-3 = 2 ≤ k ✓  
   - 第3组：`[7,8,9]`，差值 = 9-7 = 2 ≤ k ✓
3. 返回：`[[1,1,3],[3,4,5],[7,8,9]]`

## 复杂度分析

- **时间复杂度**：$O(n \log n)$，主要来自排序操作
- **空间复杂度**：$O(1)$，不考虑输出数组的空间

**Python3**

```python
class Solution:
    def divideArray(self, nums: List[int], k: int) -> List[List[int]]:
        nums.sort()
        ans = []

        for i in range(len(nums) // 3):
            t = i * 3
            if nums[t + 2] - nums[t] <= k:
                ans.append([nums[t], nums[t + 1], nums[t + 2]])
            else:
                return []
        return ans
```