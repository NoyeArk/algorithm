# [1161. 最大层内元素和](https://leetcode.cn/problems/maximum-level-sum-of-a-binary-tree/description/)

> **日期**：2026-01-06  
> **所用时间**：6min  
> **知识点**：树、广度优先搜索

## 1. 广度优先搜索

使用广度优先搜索（BFS）的方法逐层遍历二叉树。对于每一层，记录该层所有节点的值，并找到其中的最大值。

使用一个列表 $t$ 作为队列，存放当前层的节点。初始时将根节点加入队列。在遍历过程中，逐层处理节点，同时将下一层的节点添加到队列中。

复杂度分析：

- 时间复杂度：$O(n)$，每个节点只访问一次。
- 空间复杂度：$O(n)$，队列最多存放 $n/2$ 个节点。

**Python3**

```python
class Solution:
    def maxLevelSum(self, root: Optional[TreeNode]) -> int:
        q = [root]
        ans = 0
        s = -inf
        level = 1

        while q:
            t = 0
            q_copy = q.copy()
            q = []
            while q_copy:
                node = q_copy.pop(0)
                t += node.val
                if node.left:
                    q.append(node.left)
                if node.right:
                    q.append(node.right)
            if t > s:
                s = t
                ans = level
            level += 1
        return ans
```